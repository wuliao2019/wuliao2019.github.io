(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-AddDepartment"],{"151b":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-53e053ad]{background:#fff}.lst[data-v-53e053ad]{margin-left:auto;margin-right:auto;margin-top:%?150?%;margin-bottom:%?200?%;width:%?650?%}.content[data-v-53e053ad]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\n\t/*align-items: center;*/-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:absolute;top:0;right:0;bottom:0;left:0}.smlg[data-v-53e053ad]{margin-top:15px;margin-left:15px}.logo[data-v-53e053ad]{height:%?200?%;width:%?200?%;background:#5f9ea0;border-radius:30px;box-shadow:3px 3px 2px #5f9ea0}.text-area[data-v-53e053ad]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-bottom:%?80?%}.title[data-v-53e053ad]{font-size:%?30?%;color:#f50}.add-button[data-v-53e053ad]{color:#fff;width:%?400?%;border-radius:10px}body.?%PAGE?%[data-v-53e053ad]{background:#fff}",""]),t.exports=e},"2cbe":function(t,e,a){"use strict";var n=a("f755"),r=a.n(n);r.a},5685:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var r=n(a("1da1")),i={data:function(){var e=this;return{flag:0,form:{department:"",statement:"",status:!1},rules:{department:[{required:!0,message:"请输入部门名称",trigger:["change","blur"]},{asyncValidator:function(a,n,r){e.$u.post("http://42c49500j1.wicp.vip/api/repUser",{Loginname:n}).then((function(e){t("log",e.data," at pages/main/AddDepartment.vue:50"),0==e.data.judge?r(new Error("部门重复")):r()}))},message:"该部门已存在",trigger:["blur"]}],statement:[{required:!0,message:"请填写描述",trigger:["change","blur"]}]}}},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{submit:function(){var e=this;this.$refs.uForm.validate((function(a){a?(t("log","验证通过"," at pages/main/AddDepartment.vue:81"),e.temp()):t("log","验证失败"," at pages/main/AddDepartment.vue:84")}))},temp:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.rqst();case 2:a.sent,t("log","发送",e.flag," at pages/main/AddDepartment.vue:91"),1===e.flag?e.$refs.uToast.show({title:"添加部门成功！",type:"success",duration:1e3,back:!0}):e.$refs.uToast.show({title:"添加请求失败！",type:"warning"});case 5:case"end":return a.stop()}}),a)})))()},rqst:function(){var e=this;return new Promise((function(a,n){uni.request({url:"http://42c49500j1.wicp.vip/api/addDepartments",method:"POST",data:JSON.stringify({NAME:e.form.department,REMARK:e.form.statement}),dataType:"json",header:{"Content-Type":"application/json"},success:function(n){t("log","Request succeeded!"," at pages/main/AddDepartment.vue:120"),a(n),t("log",n.data.data.status," at pages/main/AddDepartment.vue:122"),e.flag=n.data.data.status},fail:function(a){t("log","Request failed!"," at pages/main/AddDepartment.vue:126"),e.$refs.uToast.show({title:"请求失败！",type:"warning"})}})}))}}};e.default=i}).call(this,a("0de9")["log"])},9535:function(t,e,a){"use strict";a.r(e);var n=a("5685"),r=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},ccf6:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={uIcon:a("4de2").default,uForm:a("34db").default,uFormItem:a("59c8").default,uInput:a("96fb").default,uButton:a("bced").default,uToast:a("34ec").default,uNoNetwork:a("aa93").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"logo"},[a("v-uni-view",{staticClass:"smlg"},[a("u-icon",{attrs:{name:"home",size:"150",color:"#ffffff"}})],1)],1),a("v-uni-view",{staticClass:"lst"},[a("u-form",{ref:"uForm",attrs:{model:t.form}},[a("u-form-item",{attrs:{"left-icon":"home","label-width":"180",label:"部门名称",prop:"department"}},[a("u-input",{attrs:{placeholder:"请填写部门名称"},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}})],1),a("u-form-item",{attrs:{"left-icon":"order","label-width":"180",label:"详细描述",prop:"statement"}},[a("u-input",{attrs:{placeholder:"请填写描述"},model:{value:t.form.statement,callback:function(e){t.$set(t.form,"statement",e)},expression:"form.statement"}})],1)],1)],1),a("u-button",{staticClass:"add-button",attrs:{type:"primary",ripple:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("添加")])],1),a("v-uni-view",[a("u-toast",{ref:"uToast"})],1),a("u-no-network")],1)},i=[]},dfc2:function(t,e,a){"use strict";a.r(e);var n=a("ccf6"),r=a("9535");for(var i in r)"default"!==i&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("2cbe");var o,s=a("f0c5"),u=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"53e053ad",null,!1,n["a"],o);e["default"]=u.exports},f755:function(t,e,a){var n=a("151b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("4f06").default;r("65d01b02",n,!0,{sourceMap:!1,shadowMode:!1})}}]);